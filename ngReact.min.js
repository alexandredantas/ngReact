(function(n,e){"undefined"!=typeof module&&module.exports?module.exports=e(require("react"),require("react-dom"),require("angular")):"function"==typeof define&&define.amd?define(["react","react-dom","angular"],function(t,r,angular){return n.ngReact=e(t,r,angular)}):n.ngReact=e(n.React,n.ReactDOM,n.angular)})(this,function(React,n,angular){"use strict";function e(n,e){if(angular.isFunction(n))return n;if(!n)throw Error("ReactComponent name attribute must be specified");var t;try{t=e.get(n)}catch(r){}if(!t)try{t=n.split(".").reduce(function(n,e){return n[e]},window)}catch(r){}if(!t)throw Error("Cannot find react component "+n);return t}function t(n,e){if(n.wrappedInApply)return n;var t=function(){var t=arguments,r=e.$root.$$phase;return"$apply"===r||"$digest"===r?n.apply(null,t):e.$apply(function(){return n.apply(null,t)})};return t.wrappedInApply=!0,t}function r(n,e){return Object.keys(n||{}).reduce(function(r,o){var u=n[o];return r[o]=angular.isFunction(u)?t(u,e):u,r},{})}function o(e,t,r,o){r(function(){n.render(React.createElement(e,t),o[0])})}var u=function(t,u){return{restrict:"E",replace:!0,require:["^ngController"],link:function(i,c,a,f){var p=e(a.name,u),d=function(){o(p,r(f[0],i),t,c)};i.$on("$destroy",function(){n.unmountComponentAtNode(c[0])}),i.$on("$reactRender",function(){d()})}}},i=function(t,u){return function(i,c){var a={restrict:"E",replace:!0,require:["^ngController"],link:function(c,a,f,p){var d=e(i,u),l=function(){o(d,r(p[0],c),t,a)};l(),c.$on("$destroy",function(){n.unmountComponentAtNode(a[0])}),c.$on("$reactRender",function(){l()})}};return angular.extend(a,c)}};return angular.module("react",[]).directive("reactComponent",["$timeout","$injector",u]).factory("reactDirective",["$timeout","$injector",i])});